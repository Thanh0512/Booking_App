{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Desktop\\\\Assignment2\\\\client\\\\src\\\\pages\\\\hotel\\\\Hotel.jsx\",\n  _s = $RefreshSig$();\nimport \"./hotel.css\";\nimport Navbar from \"../../components/navbar/Navbar\";\nimport Header from \"../../components/header/Header\";\nimport MailList from \"../../components/mailList/MailList\";\nimport Footer from \"../../components/footer/Footer\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faCircleArrowLeft, faCircleArrowRight, faCircleXmark, faLocationDot } from \"@fortawesome/free-solid-svg-icons\";\nimport { useState, useEffect, useRef } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Hotel = () => {\n  _s();\n  const {\n    hotelID\n  } = useParams();\n  const [hotel, setHotel] = useState(null);\n  const [loading, setLoading] = useState(true);\n\n  // Slider\n  const [slideNumber, setSlideNumber] = useState(0);\n  const [open, setOpen] = useState(false);\n\n  // Booking Form\n  const [showBookingForm, setShowBookingForm] = useState(false);\n  const bookingFormRef = useRef(null);\n  const [bookingData, setBookingData] = useState({\n    checkIn: \"\",\n    checkOut: \"\",\n    roomsSelected: [],\n    // Mảng ID phòng cụ thể\n    paymentMethod: \"credit_card\"\n  });\n  const [availableRooms, setAvailableRooms] = useState([]);\n  const [userInfo, setUserInfo] = useState({\n    name: \"\",\n    email: \"\",\n    phone: \"\",\n    identityCard: \"\"\n  });\n  const [isSubmitting, setIsSubmitting] = useState(false);\n\n  // === 1. Fetch Hotel ===\n  useEffect(() => {\n    const fetchHotel = async () => {\n      try {\n        const res = await axios.get(`http://localhost:5000/api/hotels/${hotelID}`);\n        setHotel(res.data);\n      } catch (err) {\n        console.error(err);\n        alert(\"Không lấy được thông tin khách sạn\");\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchHotel();\n  }, [hotelID]);\n\n  // === 2. Fetch User Info khi login ===\n  useEffect(() => {\n    const fetchUser = async () => {\n      const token = localStorage.getItem(\"token\");\n      if (!token) return;\n      try {\n        const res = await axios.get(\"http://localhost:5000/api/auth/me\", {\n          headers: {\n            \"x-auth-token\": token\n          }\n        });\n        const user = res.data;\n        setUserInfo({\n          name: user.name || \"\",\n          email: user.email || \"\",\n          phone: user.phone || \"\",\n          identityCard: user.identityCard || \"\"\n        });\n      } catch (err) {\n        console.log(\"Không lấy được thông tin user\");\n      }\n    };\n    fetchUser();\n  }, []);\n\n  // === 3. Fetch Available Rooms khi ngày thay đổi ===\n  useEffect(() => {\n    const fetchAvailableRooms = async () => {\n      if (!bookingData.checkIn || !bookingData.checkOut) {\n        setAvailableRooms([]);\n        return;\n      }\n      if (new Date(bookingData.checkIn) >= new Date(bookingData.checkOut)) {\n        setAvailableRooms([]);\n        return;\n      }\n      try {\n        const res = await axios.get(`http://localhost:5000/api/hotels/room/checkAvailable`, {\n          params: {\n            hotelId: hotelID,\n            startDate: bookingData.checkIn,\n            endDate: bookingData.checkOut\n          }\n        });\n        setAvailableRooms(res.data);\n      } catch (err) {\n        console.error(\"Lỗi lấy phòng trống:\", err);\n        setAvailableRooms([]);\n      }\n    };\n    fetchAvailableRooms();\n  }, [bookingData.checkIn, bookingData.checkOut, hotelID]);\n\n  // === 4. Reset roomsSelected khi đổi ngày ===\n  useEffect(() => {\n    setBookingData(prev => ({\n      ...prev,\n      roomsSelected: []\n    }));\n  }, [bookingData.checkIn, bookingData.checkOut]);\n\n  // === Slider Controls ===\n  const handleOpen = i => {\n    setSlideNumber(i);\n    setOpen(true);\n  };\n  const handleMove = direction => {\n    if (!(hotel !== null && hotel !== void 0 && hotel.photos)) return;\n    let newSlideNumber;\n    if (direction === \"l\") {\n      newSlideNumber = slideNumber === 0 ? hotel.photos.length - 1 : slideNumber - 1;\n    } else {\n      newSlideNumber = slideNumber === hotel.photos.length - 1 ? 0 : slideNumber + 1;\n    }\n    setSlideNumber(newSlideNumber);\n  };\n\n  // === Chọn/Bỏ chọn phòng cụ thể ===\n  const handleSelectRoom = (roomId, checked) => {\n    let newRooms = [...bookingData.roomsSelected];\n    if (checked) {\n      newRooms.push(roomId);\n    } else {\n      newRooms = newRooms.filter(id => id !== roomId);\n    }\n    setBookingData({\n      ...bookingData,\n      roomsSelected: newRooms\n    });\n  };\n\n  // === Tính tổng tiền (ĐÃ SỬA CHÍNH XÁC) ===\n  const calculateTotal = () => {\n    if (!bookingData.checkIn || !bookingData.checkOut) return 0;\n    const start = new Date(bookingData.checkIn);\n    const end = new Date(bookingData.checkOut);\n    if (end <= start) return 0;\n    const diffDays = Math.ceil((end - start) / (1000 * 60 * 60 * 24));\n    let total = 0;\n    availableRooms.forEach(roomType => {\n      const selectedCount = roomType.roomNumbers.filter(room => bookingData.roomsSelected.includes(room._id)).length;\n      total += selectedCount * roomType.price;\n    });\n    return total * diffDays;\n  };\n\n  // === Format tiền VND ===\n  const formatPrice = price => {\n    return price.toLocaleString(\"vi-VN\");\n  };\n\n  // === Xử lý nút Book Now ===\n  const handleBookNow = () => {\n    setShowBookingForm(true);\n    setTimeout(() => {\n      var _bookingFormRef$curre;\n      (_bookingFormRef$curre = bookingFormRef.current) === null || _bookingFormRef$curre === void 0 ? void 0 : _bookingFormRef$curre.scrollIntoView({\n        behavior: \"smooth\",\n        block: \"start\"\n      });\n    }, 100);\n  };\n\n  // === Xử lý đặt phòng ===\n  const handleReserve = async () => {\n    if (isSubmitting) return;\n    const {\n      checkIn,\n      checkOut,\n      roomsSelected,\n      paymentMethod\n    } = bookingData;\n    const {\n      name,\n      email,\n      phone\n    } = userInfo;\n    if (!checkIn || !checkOut || roomsSelected.length === 0) {\n      return alert(\"Vui lòng chọn ngày và ít nhất một phòng!\");\n    }\n    if (!name || !email || !phone) {\n      return alert(\"Vui lòng điền đầy đủ họ tên, email và số điện thoại!\");\n    }\n    setIsSubmitting(true);\n    try {\n      await axios.post(\"http://localhost:5000/api/bookings\", {\n        hotelID,\n        user: userInfo,\n        rooms: roomsSelected,\n        checkIn,\n        checkOut,\n        paymentMethod,\n        totalPrice: calculateTotal()\n      });\n      alert(\"Đặt phòng thành công!\");\n      window.location.href = \"/transactions\";\n    } catch (err) {\n      console.error(err);\n      alert(\"Lỗi đặt phòng. Phòng có thể đã được đặt. Vui lòng thử lại.\");\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  // === Loading & Error ===\n  if (loading) return /*#__PURE__*/_jsxDEV(\"p\", {\n    className: \"loading\",\n    children: \"\\u0110ang t\\u1EA3i kh\\xE1ch s\\u1EA1n...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 226,\n    columnNumber: 23\n  }, this);\n  if (!hotel) return /*#__PURE__*/_jsxDEV(\"p\", {\n    className: \"error\",\n    children: \"Kh\\xF4ng t\\xECm th\\u1EA5y kh\\xE1ch s\\u1EA1n\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 227,\n    columnNumber: 22\n  }, this);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Header, {\n      type: \"list\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"hotelContainer\",\n      children: [open && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"slider\",\n        children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n          icon: faCircleXmark,\n          className: \"close\",\n          onClick: () => setOpen(false)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n          icon: faCircleArrowLeft,\n          className: \"arrow\",\n          onClick: () => handleMove(\"l\")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sliderWrapper\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: hotel.photos[slideNumber],\n            alt: \"\",\n            className: \"sliderImg\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n          icon: faCircleArrowRight,\n          className: \"arrow\",\n          onClick: () => handleMove(\"r\")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"hotelWrapper\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"hotelTitle\",\n          children: hotel.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"hotelAddress\",\n          children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n            icon: faLocationDot\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: hotel.address\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"hotelDistance\",\n          children: [\"C\\xE1ch trung t\\xE2m \", hotel.distance, \"m\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"hotelPriceHighlight\",\n          children: [\"\\u0110\\u1EB7t ph\\xF2ng t\\u1EEB $\", hotel.cheapestPrice, \" \\u0111\\u1EC3 \\u0111\\u01B0\\u1EE3c mi\\u1EC5n ph\\xED taxi s\\xE2n bay!\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"hotelImages\",\n          children: hotel.photos.map((photo, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"hotelImgWrapper\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              onClick: () => handleOpen(i),\n              src: photo,\n              alt: \"\",\n              className: \"hotelImg\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 261,\n              columnNumber: 17\n            }, this)\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"hotelDetails\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"hotelDetailsTexts\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"hotelTitle\",\n              children: [\"Tr\\u1EA3i nghi\\u1EC7m tuy\\u1EC7t v\\u1EDDi t\\u1EA1i \", hotel.city]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"hotelDesc\",\n              children: hotel.desc\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 269,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"hotelDetailsPrice\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              children: \"Ho\\xE0n h\\u1EA3o cho k\\u1EF3 ngh\\u1EC9!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 272,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"\\u0110i\\u1EC3m \\u0111\\xE1nh gi\\xE1: \", hotel.rating || \"N/A\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 273,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n              children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                children: [\"$\", hotel.cheapestPrice]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 275,\n                columnNumber: 17\n              }, this), \" / \\u0111\\xEAm\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 274,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"bookNow\",\n              onClick: handleBookNow,\n              children: \"Reserve or Book Now!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 277,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 11\n        }, this), showBookingForm && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bookingFormWrapper\",\n          ref: bookingFormRef,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bookingFormLeft\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"Ch\\u1ECDn ng\\xE0y & ph\\xF2ng\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 288,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"datePickerGroup\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"datePickerItem\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Nh\\u1EADn ph\\xF2ng\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 291,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"date\",\n                  className: \"bookingDateInput\",\n                  value: bookingData.checkIn,\n                  min: new Date().toISOString().split(\"T\")[0],\n                  onChange: e => {\n                    const val = e.target.value;\n                    if (val < new Date().toISOString().split(\"T\")[0]) {\n                      alert(\"Ngày nhận phòng không hợp lệ!\");\n                      return;\n                    }\n                    setBookingData({\n                      ...bookingData,\n                      checkIn: val\n                    });\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 292,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 290,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"datePickerItem\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Tr\\u1EA3 ph\\xF2ng\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 308,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"date\",\n                  className: \"bookingDateInput\",\n                  value: bookingData.checkOut,\n                  min: bookingData.checkIn || new Date().toISOString().split(\"T\")[0],\n                  onChange: e => setBookingData({\n                    ...bookingData,\n                    checkOut: e.target.value\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 309,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 307,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 289,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              children: [\"Ph\\xF2ng tr\\u1ED1ng (\", availableRooms.length, \" lo\\u1EA1i)\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 319,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"availableRoomsList\",\n              children: availableRooms.length === 0 ? bookingData.checkIn && bookingData.checkOut ? /*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  color: \"red\",\n                  fontWeight: \"bold\"\n                },\n                children: \"Kh\\xF4ng c\\xF3 ph\\xF2ng tr\\u1ED1ng trong kho\\u1EA3ng ng\\xE0y n\\xE0y.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 323,\n                columnNumber: 23\n              }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Vui l\\xF2ng ch\\u1ECDn ng\\xE0y nh\\u1EADn v\\xE0 tr\\u1EA3 ph\\xF2ng.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 327,\n                columnNumber: 23\n              }, this) : availableRooms.map(roomType => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"roomTypeItem\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"roomInfo\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                    children: roomType.title\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 333,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: roomType.desc\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 334,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"S\\u1EE9c ch\\u1EE9a:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 336,\n                      columnNumber: 29\n                    }, this), \" \", roomType.maxPeople, \" ng\\u01B0\\u1EDDi\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 335,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"Gi\\xE1:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 339,\n                      columnNumber: 29\n                    }, this), \" $\", roomType.price, \" / \\u0111\\xEAm\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 338,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 332,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"roomSelectionCheckboxes\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    children: \"Ch\\u1ECDn ph\\xF2ng:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 343,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"roomCheckboxesWrapper\",\n                    children: roomType.roomNumbers.map(room => /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"singleRoomOption\",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        htmlFor: `room-${room._id}`,\n                        style: {\n                          fontWeight: bookingData.roomsSelected.includes(room._id) ? \"bold\" : \"normal\",\n                          color: bookingData.roomsSelected.includes(room._id) ? \"#0071c2\" : \"inherit\"\n                        },\n                        children: [\"Ph\\xF2ng \", room.number]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 347,\n                        columnNumber: 33\n                      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"checkbox\",\n                        id: `room-${room._id}`,\n                        checked: bookingData.roomsSelected.includes(room._id),\n                        onChange: e => handleSelectRoom(room._id, e.target.checked)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 360,\n                        columnNumber: 33\n                      }, this)]\n                    }, room._id, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 346,\n                      columnNumber: 31\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 344,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 342,\n                  columnNumber: 25\n                }, this)]\n              }, roomType._id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 331,\n                columnNumber: 23\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 320,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 287,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bookingFormRight\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"Th\\xF4ng tin \\u0111\\u1EB7t ph\\xF2ng\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 378,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"H\\u1ECD v\\xE0 t\\xEAn:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 379,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"Nguy\\u1EC5n V\\u0103n A\",\n              value: userInfo.name,\n              onChange: e => setUserInfo({\n                ...userInfo,\n                name: e.target.value\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 380,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Email:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 386,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"email\",\n              placeholder: \"email@example.com\",\n              value: userInfo.email,\n              onChange: e => setUserInfo({\n                ...userInfo,\n                email: e.target.value\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 387,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"S\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 393,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"0901234567\",\n              value: userInfo.phone,\n              onChange: e => setUserInfo({\n                ...userInfo,\n                phone: e.target.value\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 394,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"CMND/CCCD:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 400,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"123456789\",\n              value: userInfo.identityCard,\n              onChange: e => setUserInfo({\n                ...userInfo,\n                identityCard: e.target.value\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 401,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Ph\\u01B0\\u01A1ng th\\u1EE9c thanh to\\xE1n:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 408,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: bookingData.paymentMethod,\n              onChange: e => setBookingData({\n                ...bookingData,\n                paymentMethod: e.target.value\n              }),\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"credit_card\",\n                children: \"Credit Card\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 415,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"paypal\",\n                children: \"PayPal\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 416,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"cash\",\n                children: \"Cash\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 417,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 409,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              children: [\"Total Bill: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: [formatPrice(calculateTotal()), \" VND\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 421,\n                columnNumber: 31\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 420,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"reserveBtn\",\n              onClick: handleReserve,\n              disabled: isSubmitting,\n              children: isSubmitting ? \"Đang xử lý...\" : \"Reserve Now\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 424,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 377,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(MailList, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 436,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 437,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(Hotel, \"Au5MMrmlBvd7lVeCFhM1zqh2tMw=\", false, function () {\n  return [useParams];\n});\n_c = Hotel;\nexport default Hotel;\nvar _c;\n$RefreshReg$(_c, \"Hotel\");","map":{"version":3,"names":["Navbar","Header","MailList","Footer","FontAwesomeIcon","faCircleArrowLeft","faCircleArrowRight","faCircleXmark","faLocationDot","useState","useEffect","useRef","useParams","axios","jsxDEV","_jsxDEV","Fragment","_Fragment","Hotel","_s","hotelID","hotel","setHotel","loading","setLoading","slideNumber","setSlideNumber","open","setOpen","showBookingForm","setShowBookingForm","bookingFormRef","bookingData","setBookingData","checkIn","checkOut","roomsSelected","paymentMethod","availableRooms","setAvailableRooms","userInfo","setUserInfo","name","email","phone","identityCard","isSubmitting","setIsSubmitting","fetchHotel","res","get","data","err","console","error","alert","fetchUser","token","localStorage","getItem","headers","user","log","fetchAvailableRooms","Date","params","hotelId","startDate","endDate","prev","handleOpen","i","handleMove","direction","photos","newSlideNumber","length","handleSelectRoom","roomId","checked","newRooms","push","filter","id","calculateTotal","start","end","diffDays","Math","ceil","total","forEach","roomType","selectedCount","roomNumbers","room","includes","_id","price","formatPrice","toLocaleString","handleBookNow","setTimeout","_bookingFormRef$curre","current","scrollIntoView","behavior","block","handleReserve","post","rooms","totalPrice","window","location","href","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","icon","onClick","src","alt","address","distance","cheapestPrice","map","photo","city","desc","rating","ref","value","min","toISOString","split","onChange","e","val","target","style","color","fontWeight","title","maxPeople","htmlFor","number","placeholder","disabled","_c","$RefreshReg$"],"sources":["C:/Users/Admin/Desktop/Assignment2/client/src/pages/hotel/Hotel.jsx"],"sourcesContent":["import \"./hotel.css\";\nimport Navbar from \"../../components/navbar/Navbar\";\nimport Header from \"../../components/header/Header\";\nimport MailList from \"../../components/mailList/MailList\";\nimport Footer from \"../../components/footer/Footer\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n  faCircleArrowLeft,\n  faCircleArrowRight,\n  faCircleXmark,\n  faLocationDot,\n} from \"@fortawesome/free-solid-svg-icons\";\nimport { useState, useEffect, useRef } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport axios from \"axios\";\n\nconst Hotel = () => {\n  const { hotelID } = useParams();\n  const [hotel, setHotel] = useState(null);\n  const [loading, setLoading] = useState(true);\n\n  // Slider\n  const [slideNumber, setSlideNumber] = useState(0);\n  const [open, setOpen] = useState(false);\n\n  // Booking Form\n  const [showBookingForm, setShowBookingForm] = useState(false);\n  const bookingFormRef = useRef(null);\n\n  const [bookingData, setBookingData] = useState({\n    checkIn: \"\",\n    checkOut: \"\",\n    roomsSelected: [], // Mảng ID phòng cụ thể\n    paymentMethod: \"credit_card\",\n  });\n\n  const [availableRooms, setAvailableRooms] = useState([]);\n  const [userInfo, setUserInfo] = useState({\n    name: \"\",\n    email: \"\",\n    phone: \"\",\n    identityCard: \"\",\n  });\n\n  const [isSubmitting, setIsSubmitting] = useState(false);\n\n  // === 1. Fetch Hotel ===\n  useEffect(() => {\n    const fetchHotel = async () => {\n      try {\n        const res = await axios.get(`http://localhost:5000/api/hotels/${hotelID}`);\n        setHotel(res.data);\n      } catch (err) {\n        console.error(err);\n        alert(\"Không lấy được thông tin khách sạn\");\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchHotel();\n  }, [hotelID]);\n\n  // === 2. Fetch User Info khi login ===\n  useEffect(() => {\n    const fetchUser = async () => {\n      const token = localStorage.getItem(\"token\");\n      if (!token) return;\n\n      try {\n        const res = await axios.get(\"http://localhost:5000/api/auth/me\", {\n          headers: { \"x-auth-token\": token },\n        });\n        const user = res.data;\n        setUserInfo({\n          name: user.name || \"\",\n          email: user.email || \"\",\n          phone: user.phone || \"\",\n          identityCard: user.identityCard || \"\",\n        });\n      } catch (err) {\n        console.log(\"Không lấy được thông tin user\");\n      }\n    };\n    fetchUser();\n  }, []);\n\n  // === 3. Fetch Available Rooms khi ngày thay đổi ===\n  useEffect(() => {\n    const fetchAvailableRooms = async () => {\n      if (!bookingData.checkIn || !bookingData.checkOut) {\n        setAvailableRooms([]);\n        return;\n      }\n\n      if (new Date(bookingData.checkIn) >= new Date(bookingData.checkOut)) {\n        setAvailableRooms([]);\n        return;\n      }\n\n      try {\n        const res = await axios.get(\n          `http://localhost:5000/api/hotels/room/checkAvailable`,\n          {\n            params: {\n              hotelId: hotelID,\n              startDate: bookingData.checkIn,\n              endDate: bookingData.checkOut,\n            },\n          }\n        );\n        setAvailableRooms(res.data);\n      } catch (err) {\n        console.error(\"Lỗi lấy phòng trống:\", err);\n        setAvailableRooms([]);\n      }\n    };\n\n    fetchAvailableRooms();\n  }, [bookingData.checkIn, bookingData.checkOut, hotelID]);\n\n  // === 4. Reset roomsSelected khi đổi ngày ===\n  useEffect(() => {\n    setBookingData((prev) => ({ ...prev, roomsSelected: [] }));\n  }, [bookingData.checkIn, bookingData.checkOut]);\n\n  // === Slider Controls ===\n  const handleOpen = (i) => {\n    setSlideNumber(i);\n    setOpen(true);\n  };\n\n  const handleMove = (direction) => {\n    if (!hotel?.photos) return;\n    let newSlideNumber;\n    if (direction === \"l\") {\n      newSlideNumber = slideNumber === 0 ? hotel.photos.length - 1 : slideNumber - 1;\n    } else {\n      newSlideNumber = slideNumber === hotel.photos.length - 1 ? 0 : slideNumber + 1;\n    }\n    setSlideNumber(newSlideNumber);\n  };\n\n  // === Chọn/Bỏ chọn phòng cụ thể ===\n  const handleSelectRoom = (roomId, checked) => {\n    let newRooms = [...bookingData.roomsSelected];\n    if (checked) {\n      newRooms.push(roomId);\n    } else {\n      newRooms = newRooms.filter((id) => id !== roomId);\n    }\n    setBookingData({ ...bookingData, roomsSelected: newRooms });\n  };\n\n  // === Tính tổng tiền (ĐÃ SỬA CHÍNH XÁC) ===\n  const calculateTotal = () => {\n    if (!bookingData.checkIn || !bookingData.checkOut) return 0;\n\n    const start = new Date(bookingData.checkIn);\n    const end = new Date(bookingData.checkOut);\n    if (end <= start) return 0;\n\n    const diffDays = Math.ceil((end - start) / (1000 * 60 * 60 * 24));\n    let total = 0;\n\n    availableRooms.forEach((roomType) => {\n      const selectedCount = roomType.roomNumbers.filter((room) =>\n        bookingData.roomsSelected.includes(room._id)\n      ).length;\n      total += selectedCount * roomType.price;\n    });\n\n    return total * diffDays;\n  };\n\n  // === Format tiền VND ===\n  const formatPrice = (price) => {\n    return price.toLocaleString(\"vi-VN\");\n  };\n\n  // === Xử lý nút Book Now ===\n  const handleBookNow = () => {\n    setShowBookingForm(true);\n    setTimeout(() => {\n      bookingFormRef.current?.scrollIntoView({ behavior: \"smooth\", block: \"start\" });\n    }, 100);\n  };\n\n  // === Xử lý đặt phòng ===\n  const handleReserve = async () => {\n    if (isSubmitting) return;\n\n    const { checkIn, checkOut, roomsSelected, paymentMethod } = bookingData;\n    const { name, email, phone } = userInfo;\n\n    if (!checkIn || !checkOut || roomsSelected.length === 0) {\n      return alert(\"Vui lòng chọn ngày và ít nhất một phòng!\");\n    }\n    if (!name || !email || !phone) {\n      return alert(\"Vui lòng điền đầy đủ họ tên, email và số điện thoại!\");\n    }\n\n    setIsSubmitting(true);\n\n    try {\n      await axios.post(\"http://localhost:5000/api/bookings\", {\n        hotelID,\n        user: userInfo,\n        rooms: roomsSelected,\n        checkIn,\n        checkOut,\n        paymentMethod,\n        totalPrice: calculateTotal(),\n      });\n\n      alert(\"Đặt phòng thành công!\");\n      window.location.href = \"/transactions\";\n    } catch (err) {\n      console.error(err);\n      alert(\"Lỗi đặt phòng. Phòng có thể đã được đặt. Vui lòng thử lại.\");\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  // === Loading & Error ===\n  if (loading) return <p className=\"loading\">Đang tải khách sạn...</p>;\n  if (!hotel) return <p className=\"error\">Không tìm thấy khách sạn</p>;\n\n  return (\n    <>\n      <Navbar />\n      <Header type=\"list\" />\n\n      <div className=\"hotelContainer\">\n        {/* Slider */}\n        {open && (\n          <div className=\"slider\">\n            <FontAwesomeIcon icon={faCircleXmark} className=\"close\" onClick={() => setOpen(false)} />\n            <FontAwesomeIcon icon={faCircleArrowLeft} className=\"arrow\" onClick={() => handleMove(\"l\")} />\n            <div className=\"sliderWrapper\">\n              <img src={hotel.photos[slideNumber]} alt=\"\" className=\"sliderImg\" />\n            </div>\n            <FontAwesomeIcon icon={faCircleArrowRight} className=\"arrow\" onClick={() => handleMove(\"r\")} />\n          </div>\n        )}\n\n        <div className=\"hotelWrapper\">\n          <h1 className=\"hotelTitle\">{hotel.name}</h1>\n          <div className=\"hotelAddress\">\n            <FontAwesomeIcon icon={faLocationDot} />\n            <span>{hotel.address}</span>\n          </div>\n          <span className=\"hotelDistance\">Cách trung tâm {hotel.distance}m</span>\n          <span className=\"hotelPriceHighlight\">\n            Đặt phòng từ ${hotel.cheapestPrice} để được miễn phí taxi sân bay!\n          </span>\n\n          <div className=\"hotelImages\">\n            {hotel.photos.map((photo, i) => (\n              <div className=\"hotelImgWrapper\" key={i}>\n                <img onClick={() => handleOpen(i)} src={photo} alt=\"\" className=\"hotelImg\" />\n              </div>\n            ))}\n          </div>\n\n          <div className=\"hotelDetails\">\n            <div className=\"hotelDetailsTexts\">\n              <h1 className=\"hotelTitle\">Trải nghiệm tuyệt vời tại {hotel.city}</h1>\n              <p className=\"hotelDesc\">{hotel.desc}</p>\n            </div>\n            <div className=\"hotelDetailsPrice\">\n              <h1>Hoàn hảo cho kỳ nghỉ!</h1>\n              <span>Điểm đánh giá: {hotel.rating || \"N/A\"}</span>\n              <h2>\n                <b>${hotel.cheapestPrice}</b> / đêm\n              </h2>\n              <button className=\"bookNow\" onClick={handleBookNow}>\n                Reserve or Book Now!\n              </button>\n            </div>\n          </div>\n\n          {/* === BOOKING FORM === */}\n          {showBookingForm && (\n            <div className=\"bookingFormWrapper\" ref={bookingFormRef}>\n              {/* LEFT: Chọn ngày & phòng */}\n              <div className=\"bookingFormLeft\">\n                <h2>Chọn ngày & phòng</h2>\n                <div className=\"datePickerGroup\">\n                  <div className=\"datePickerItem\">\n                    <label>Nhận phòng</label>\n                    <input\n                      type=\"date\"\n                      className=\"bookingDateInput\"\n                      value={bookingData.checkIn}\n                      min={new Date().toISOString().split(\"T\")[0]}\n                      onChange={(e) => {\n                        const val = e.target.value;\n                        if (val < new Date().toISOString().split(\"T\")[0]) {\n                          alert(\"Ngày nhận phòng không hợp lệ!\");\n                          return;\n                        }\n                        setBookingData({ ...bookingData, checkIn: val });\n                      }}\n                    />\n                  </div>\n                  <div className=\"datePickerItem\">\n                    <label>Trả phòng</label>\n                    <input\n                      type=\"date\"\n                      className=\"bookingDateInput\"\n                      value={bookingData.checkOut}\n                      min={bookingData.checkIn || new Date().toISOString().split(\"T\")[0]}\n                      onChange={(e) => setBookingData({ ...bookingData, checkOut: e.target.value })}\n                    />\n                  </div>\n                </div>\n\n                <h3>Phòng trống ({availableRooms.length} loại)</h3>\n                <div className=\"availableRoomsList\">\n                  {availableRooms.length === 0 ? (\n                    bookingData.checkIn && bookingData.checkOut ? (\n                      <p style={{ color: \"red\", fontWeight: \"bold\" }}>\n                        Không có phòng trống trong khoảng ngày này.\n                      </p>\n                    ) : (\n                      <p>Vui lòng chọn ngày nhận và trả phòng.</p>\n                    )\n                  ) : (\n                    availableRooms.map((roomType) => (\n                      <div className=\"roomTypeItem\" key={roomType._id}>\n                        <div className=\"roomInfo\">\n                          <h4>{roomType.title}</h4>\n                          <p>{roomType.desc}</p>\n                          <p>\n                            <strong>Sức chứa:</strong> {roomType.maxPeople} người\n                          </p>\n                          <p>\n                            <strong>Giá:</strong> ${roomType.price} / đêm\n                          </p>\n                        </div>\n                        <div className=\"roomSelectionCheckboxes\">\n                          <label>Chọn phòng:</label>\n                          <div className=\"roomCheckboxesWrapper\">\n                            {roomType.roomNumbers.map((room) => (\n                              <div className=\"singleRoomOption\" key={room._id}>\n                                <label\n                                  htmlFor={`room-${room._id}`}\n                                  style={{\n                                    fontWeight: bookingData.roomsSelected.includes(room._id)\n                                      ? \"bold\"\n                                      : \"normal\",\n                                    color: bookingData.roomsSelected.includes(room._id)\n                                      ? \"#0071c2\"\n                                      : \"inherit\",\n                                  }}\n                                >\n                                  Phòng {room.number}\n                                </label>\n                                <input\n                                  type=\"checkbox\"\n                                  id={`room-${room._id}`}\n                                  checked={bookingData.roomsSelected.includes(room._id)}\n                                  onChange={(e) => handleSelectRoom(room._id, e.target.checked)}\n                                />\n                              </div>\n                            ))}\n                          </div>\n                        </div>\n                      </div>\n                    ))\n                  )}\n                </div>\n              </div>\n\n              {/* RIGHT: Thông tin đặt phòng */}\n              <div className=\"bookingFormRight\">\n                <h2>Thông tin đặt phòng</h2>\n                <label>Họ và tên:</label>\n                <input\n                  type=\"text\"\n                  placeholder=\"Nguyễn Văn A\"\n                  value={userInfo.name}\n                  onChange={(e) => setUserInfo({ ...userInfo, name: e.target.value })}\n                />\n                <label>Email:</label>\n                <input\n                  type=\"email\"\n                  placeholder=\"email@example.com\"\n                  value={userInfo.email}\n                  onChange={(e) => setUserInfo({ ...userInfo, email: e.target.value })}\n                />\n                <label>Số điện thoại:</label>\n                <input\n                  type=\"text\"\n                  placeholder=\"0901234567\"\n                  value={userInfo.phone}\n                  onChange={(e) => setUserInfo({ ...userInfo, phone: e.target.value })}\n                />\n                <label>CMND/CCCD:</label>\n                <input\n                  type=\"text\"\n                  placeholder=\"123456789\"\n                  value={userInfo.identityCard}\n                  onChange={(e) => setUserInfo({ ...userInfo, identityCard: e.target.value })}\n                />\n\n                <label>Phương thức thanh toán:</label>\n                <select\n                  value={bookingData.paymentMethod}\n                  onChange={(e) =>\n                    setBookingData({ ...bookingData, paymentMethod: e.target.value })\n                  }\n                >\n                  <option value=\"credit_card\">Credit Card</option>\n                  <option value=\"paypal\">PayPal</option>\n                  <option value=\"cash\">Cash</option>\n                </select>\n\n                <h3>\n                  Total Bill: <strong>{formatPrice(calculateTotal())} VND</strong>\n                </h3>\n\n                <button\n                  className=\"reserveBtn\"\n                  onClick={handleReserve}\n                  disabled={isSubmitting}\n                >\n                  {isSubmitting ? \"Đang xử lý...\" : \"Reserve Now\"}\n                </button>\n              </div>\n            </div>\n          )}\n        </div>\n\n        <MailList />\n        <Footer />\n      </div>\n    </>\n  );\n};\n\nexport default Hotel;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}